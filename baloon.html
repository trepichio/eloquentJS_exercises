<!doctype html>
<h1>a ballon which you can shrink or grow until explodes using arrow keys</h1>
<h1>PRESS <strong>â‡µ</strong> arrow keys to inflate or deflate this ballon.</h1>
<h2>Be careful! lol ðŸ˜†</h2>
<p>ðŸŽˆ</p>

<script>
	/////////////////
	// My solution //
	/////////////////
/*	document.querySelector('p').style.fontSize = '30px';
	const resizeBalloon = event => {
	  	let balloon = event.target.querySelector('p');
	  	let size = parseFloat(balloon.style.fontSize);
	  	if (size >= 210) explode(balloon);
	  	if (event.key === 'ArrowUp') inflate(balloon, size);
	  	if (event.key === 'ArrowDown') deflate(balloon, size);
	  	event.stopPropagation();
	}

	function inflate (balloon, size) {
		balloon.style.fontSize = size + 10 + 'px'
	}
	function deflate (balloon, size) {
		balloon.style.fontSize = size - 10 + 'px';
	}

	function explode (balloon) {
		balloon.textContent = 'ðŸ’¥';
		window.removeEventListener('keydown', resizeBalloon);
	}
	window.addEventListener('keydown', resizeBalloon);
*/
	/////////////////////
	// Book's solution //
	/////////////////////
	let p = document.querySelector('p');
	let size;

	function setSize (newSize) {
		size = newSize;
		p.style.fontSize = size + 'px';
	}
	setSize(20);

	function handleArrow (event) {
		if (event.key === 'ArrowUp') {
			if (size > 210) {
				p.textContent = 'ðŸ’¥';
				document.body.removeEventListener('keydown', handleArrow);
			}
			else {
				setSize(size * 1.1);
				event.preventDefault();
			}
		}
		else if (event.key === 'ArrowDown') {
			setSize(size * 0.9);
			event.preventDefault();
		}
	}
	document.body.addEventListener('keydown', handleArrow);
</script>